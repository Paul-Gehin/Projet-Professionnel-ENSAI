---
title: "R Notebook"
output:
  html_document:
    df_print: paged
---



```{r}
library(altair)
```

```{r}
vega_data <- import_vega_data()

data <- vega_data$cars()
```

```{r}

alt$Chart(data)$transform_filter(
    data$Miles_per_Gallon > 0)$
  transform_bin(c('bin_max', 'bin_min'), field='Miles_per_Gallon', bin=alt$Bin(maxbins=20))$
  transform_calculate(binned=(data$bin_max + data$bin_min) / 2)$
  transform_aggregate(value_count='count()', groupby=c('Origin', 'binned'))$
  transform_impute(impute='value_count', groupby=c('Origin'), key='binned', value=0)$
  mark_area(interpolate='monotone', orient='horizontal')$
  encode(
    x=alt$X('value_count:Q',title=None,stack='center',axis=alt$Axis(labels=False, values=0,grid=False, ticks=True)),
    y=alt$Y('binned:Q', bin='binned', title='Miles per Gallon'),
    color=alt$Color('Origin:N', legend=None),
    column=alt$Column('Origin:N',header=alt$Header(titleOrient='bottom', labelOrient='bottom', labelPadding=0)))$
  properties(width=80)$
  configure_facet(spacing=0)$
  configure_view(stroke=None)

```